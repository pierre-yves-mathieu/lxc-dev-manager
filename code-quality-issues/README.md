# Code Quality Issues - lxc-dev-manager

This folder contains detailed analysis and remediation guidance for identified code quality issues.

## Issue Summary

| # | Issue | Severity | Effort | File |
|---|-------|----------|--------|------|
| 05 | [Proxy Connection Limits](./05-proxy-connection-limits.md) | High | Medium | `internal/proxy/proxy.go` |
| 06 | [go.mod Indirect Markers](./06-gomod-indirect-markers.md) | Low | Trivial | `go.mod` |
| 07 | [Config Loading Duplication](./07-config-loading-duplication.md) | Medium | Low | `cmd/*.go` |
| 08 | [Input Validation](./08-input-validation.md) | Medium | Medium | `cmd/`, `internal/config/` |
| 09 | [Config File Race Condition](./09-config-file-race-condition.md) | Medium | Medium | `internal/config/config.go` |

## Quick Fixes

### Issue #06 - Trivial Fix
```bash
go mod tidy
```

### Issue #07 - Create Helper Functions
Create `cmd/helpers.go` with `requireProject()`, `requireContainer()`, etc.

### Issue #05 - Add Connection Semaphore
Add buffered channel as semaphore in `internal/proxy/proxy.go`.

## Prioritized Remediation Order

1. **#06** - Run `go mod tidy` (1 minute)
2. **#07** - Extract helpers (30 minutes, reduces code by ~200 lines)
3. **#08** - Add validation package (1-2 hours)
4. **#05** - Add connection limits (1-2 hours)
5. **#09** - Add file locking + atomic writes (2-3 hours)

## Each Document Contains

- Problem description with code snippets
- Explanation of why it's a problem
- Concrete fix recommendations with code
- Test cases to verify the fix
- References and further reading

## Related Issues Not Documented Here

Issues #1-3 were critical security issues (command injection, plaintext passwords, global state) that were addressed separately. Issue #4 was a false positive (function exists in `cmd/remove.go`).

---

*Generated by Staff Engineer Code Review - January 2026*
